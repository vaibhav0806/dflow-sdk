---
title: DFlowClient
description: The main client class for interacting with DFlow APIs
---

# DFlowClient

The `DFlowClient` is the main entry point for interacting with the DFlow API. It provides access to all API modules and manages HTTP connections.

## Import

```python
from dflow import DFlowClient, DFlowEnvironment
```

## Constructor

```python
client = DFlowClient(
    environment: DFlowEnvironment = DFlowEnvironment.DEVELOPMENT,
    metadata_base_url: str | None = None,
    trade_base_url: str | None = None,
    websocket_url: str | None = None,
    api_key: str | None = None
)
```

### Parameters

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| `environment` | `DFlowEnvironment` | `DEVELOPMENT` | API environment to use |
| `metadata_base_url` | `str \| None` | `None` | Custom metadata API URL |
| `trade_base_url` | `str \| None` | `None` | Custom trade API URL |
| `websocket_url` | `str \| None` | `None` | Custom WebSocket URL |
| `api_key` | `str \| None` | `None` | API key for authenticated endpoints |

## Environment Options

```python
class DFlowEnvironment(Enum):
    DEVELOPMENT = "development"
    PRODUCTION = "production"
```

## API Modules

The client provides access to the following API modules:

| Property | Type | Description |
|----------|------|-------------|
| `markets` | `MarketsAPI` | Market data and discovery |
| `events` | `EventsAPI` | Event information |
| `orderbook` | `OrderbookAPI` | Orderbook data |
| `trades` | `TradesAPI` | Trade history |
| `live_data` | `LiveDataAPI` | Live market data |
| `series` | `SeriesAPI` | Series information |
| `tags` | `TagsAPI` | Tag management |
| `sports` | `SportsAPI` | Sports-specific data |
| `search` | `SearchAPI` | Search functionality |
| `orders` | `OrdersAPI` | Order management |
| `swap` | `SwapAPI` | Token swaps |
| `intent` | `IntentAPI` | Intent-based trading |
| `prediction_market` | `PredictionMarketAPI` | Prediction market operations |
| `tokens` | `TokensAPI` | Token information |
| `venues` | `VenuesAPI` | Venue data |
| `ws` | `DFlowWebSocket` | WebSocket client |

## Examples

### Basic Usage

```python
from dflow import DFlowClient

# Development environment (default)
client = DFlowClient()

# Access markets
markets = client.markets.get_markets(status="active")
```

### Production Environment

```python
from dflow import DFlowClient, DFlowEnvironment

client = DFlowClient(environment=DFlowEnvironment.PRODUCTION)
```

### With API Key

```python
client = DFlowClient(api_key="your-api-key")

# Or set it later
client = DFlowClient()
client.set_api_key("your-api-key")
```

### Custom URLs

```python
client = DFlowClient(
    metadata_base_url="https://custom-metadata.example.com",
    trade_base_url="https://custom-trade.example.com",
    websocket_url="wss://custom-ws.example.com"
)
```

### Context Manager

```python
with DFlowClient() as client:
    markets = client.markets.get_markets()
    # HTTP client is automatically closed when exiting the context
```

## Methods

### set_api_key

Set or update the API key for authenticated requests.

```python
client.set_api_key(api_key: str) -> None
```

### close

Close the HTTP client connections.

```python
client.close() -> None
```
