---
title: Search API
description: Search for events and markets by keyword
---

# Search API

The Search API allows you to find events and their nested markets by searching titles and tickers.

## Access

```typescript
const dflow = new DFlowClient();
const search = dflow.search;
```

## Methods

### search

Search for events matching a query string.

```typescript
const results = await dflow.search.search({
  query: 'bitcoin',
  limit: 10,
});

for (const event of results.events) {
  console.log(`${event.title}`);
}
```

**Parameters:**

| Name | Type | Required | Description |
|------|------|----------|-------------|
| `query` | `string` | Yes | The search query string |
| `sort` | `SortField` | No | Sort field: `'volume'`, `'volume24h'`, `'liquidity'`, `'openInterest'` |
| `order` | `'asc' \| 'desc'` | No | Sort order |
| `limit` | `number` | No | Maximum results to return |
| `cursor` | `number` | No | Pagination cursor |
| `withNestedMarkets` | `boolean` | No | Include nested markets in response |
| `withMarketAccounts` | `boolean` | No | Include market account information |
| `status` | `MarketStatus` | No | Filter by status |
| `entityType` | `'events' \| 'markets' \| 'series'` | No | Type of entity to search for |

**Returns:** `SearchResult`

```typescript
interface SearchResult {
  cursor: number;
  events: Event[];  // Events with nested markets
}
```

---

## Examples

### Basic Search

```typescript
const results = await dflow.search.search({
  query: 'bitcoin',
});

console.log(`Found ${results.events.length} events for "bitcoin":\n`);

for (const event of results.events) {
  console.log(`ðŸ“Š ${event.title}`);
  console.log(`   Ticker: ${event.ticker}`);
  console.log('');
}
```

### Search with Sorting and Pagination

```typescript
// Search with sorting
const sortedResults = await dflow.search.search({
  query: 'election',
  sort: 'volume',
  order: 'desc',
  limit: 20,
});

console.log(`Top ${sortedResults.events.length} election events by volume:`);
for (const event of sortedResults.events) {
  console.log(`  - ${event.title}`);
}

// Paginate through results
if (sortedResults.cursor) {
  const nextPage = await dflow.search.search({
    query: 'election',
    cursor: sortedResults.cursor,
  });
}
```

### Search with Nested Markets

```typescript
const results = await dflow.search.search({
  query: 'NFL',
  withNestedMarkets: true,
  withMarketAccounts: true,
});

// Get markets for each matching event
for (const event of results.events) {
  console.log(`\n${event.title}:`);

  if (event.markets && event.markets.length > 0) {
    for (const market of event.markets) {
      console.log(`  - ${market.title}`);
      console.log(`    YES Ask: ${market.yesAsk} | NO Ask: ${market.noAsk}`);
    }
  }
}
```

### Build a Search Interface

```typescript
async function searchMarkets(query: string) {
  if (!query.trim()) {
    return [];
  }

  const results = await dflow.search.search({
    query: query.trim(),
    limit: 20,
    withNestedMarkets: true,
  });

  return results.events.flatMap(event => {
    if (!event.markets) return [];

    return event.markets.map(market => ({
      eventTitle: event.title,
      marketTitle: market.title,
      ticker: market.ticker,
      yesAsk: market.yesAsk,
      noAsk: market.noAsk,
    }));
  });
}

// Usage
const markets = await searchMarkets('crypto');
console.log(`Found ${markets.length} markets`);
```
